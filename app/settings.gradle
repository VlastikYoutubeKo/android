pluginManagement {
    repositories {
        google()
        mavenCentral()
        gradlePluginPortal()
    }
}

plugins {
    id 'org.gradle.toolchains.foojay-resolver-convention' version '0.8.0'
}
dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
    repositories {
        google()
        mavenCentral()
//        flatDir {
//            dirs "${System.env.HOME}/bringyour/bringyour/client/build/android"
//        }

        // circle sdk
        maven {

            def mavenPassword = System.getenv("GITHUB_TOKEN") ?: null

           

            Properties properties = new Properties()
            properties.load(new File(rootDir.absolutePath + "/dependencies.properties").newDataInputStream())

            if (mavenPassword != null) {
                url properties.getProperty('pwsdk.maven.url')
                credentials {
                    username 'x-access-token'
                    password mavenPassword
                }
            } else {
                url properties.getProperty('pwsdk.maven.url')

                credentials {
                    username properties.getProperty('pwsdk.maven.username')
                    password properties.getProperty('pwsdk.maven.password')
                }
            }
        }
    }
}
rootProject.name = "BringYour"
include ':app'

